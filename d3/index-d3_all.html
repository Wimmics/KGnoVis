<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <!--<script src="https://d3js.org/d3.v7.min.js" defer></script>-->
    <script src="https://cdn.jsdelivr.net/npm/d3@7/+esm" type="module" defer></script>
    <script src="d3_barchart_final.js" defer type="module"></script>
    <script src="d3_stackedchart_final.js" defer type="module"></script>
    <script src="d3_piechart_final.js" defer type="module"></script>
    <script src="d3_nodelink_final.js" defer type="module"></script>
    <script src="d3_visualisation_finale.js" defer type="module"></script>
    <link rel="stylesheet" href="../bordure.css">
    <title>Graphiques d3</title>
</head>
<body>
    <script type="module">
        import visualisation from './d3_visualisation_finale.js'

    const dataset_barchart = [
        {category :"Clouds", values : [{value : 5, label : "Wolf"}, {value : 8, label : "Eagle"}, {value : 12, label : "Deer"}, {value : 7, label : "Lion"}, {value : 9, label : "Dragon"}], fill : "black"},
        {category :"Flower", values : [{value : 10, label : "Wolf"}, {value : 20, label : "Eagle"}, {value : 15, label : "Deer"}, {value : 25, label : "Lion"}, {value : 30, label : "Dragon"}], fill : "crimson"},
        {category :"Snow", values :  [{value : 6, label : "Wolf"}, {value : 8, label : "Eagle"}, {value : 2, label : "Deer"}, {value : 4, label : "Lion"}, {value : 5, label : "Dragon"}], fill : "silver"},
        {category :"Wind", values :  [{value : 20, label : "Wolf"}, {value : 30, label : "Eagle"}, {value : 10, label : "Deer"}, {value : 12, label : "Lion"}, {value : 18, label : "Dragon"}], fill : "gold"},
        {category :"Moon", values :  [{value : 14, label : "Wolf"}, {value : 16, label : "Eagle"}, {value : 24, label : "Deer"}, {value : 8, label : "Lion"}, {value : 17, label : "Dragon"}], fill : "lightblue"}
    ]
    
    const dataset_stackedchart = dataset_barchart
    
    const dataset_piechart = [
        {label :"Clouds", value : 12, fill : "black"},
        {label :"Flower", value : 19, fill : "crimson"},
        {label :"Snow", value :  10, fill : "gray"},
        {label :"Wind", value :  20, fill : "gold"},
        {label :"Moon", value :  8, fill : "lightblue"}
    ]
    
    const dataset_nodelink = {
        nodes: [
          {id: 1, name: "A"},
          {id: 2, name: "B"},
          {id: 3, name: "C"},
          {id: 4, name: "D"},
          {id: 5, name: "E"},
          {id: 6, name: "F"},
          {id: 7, name: "G"},
          {id: 8, name: "H"},
          {id: 9, name: "I"},
          {id: 10, name: "J"}
        ],
        links: [
          {source: 1, target: 2},
          {source: 1, target: 5},
          {source: 1, target: 6},
          {source: 2, target: 3},
          {source: 2,target: 7},
          {source: 3, target: 4},
          {source: 8, target: 3},
          {source: 4, target: 5},
          {source: 4, target: 9},
          {source: 5, target: 10}
        ]
      }

    const couleurs = ["green", "crimson", "silver", "gold", "steelblue"]
    const couleur_texte = ["black"]
    const couleurs_nodelink = ["crimson", "steelblue"]

      
    //let configuration = {data : donnees, type : visu, options : {couleurs}}
    let config_barchart = {data : dataset_barchart, type : "barchart", options : {width : 400, height : 400, colors : couleurs, vertical_bar : true}}
    let config_stackedchart = {data : dataset_stackedchart, type : "stackedchart", options : {colors : couleurs, width : 400, height : 400, vertical_bar : true}}
    let config_piechart = {data : dataset_piechart, type : "piechart", options : {colors : couleurs, width : 400, height : 400, color_text : couleur_texte}}
    let config_nodelink = {data : dataset_nodelink, type : "nodelink", options : {colors : couleurs_nodelink, width : 400, height : 400, strength : -400}}

    // Il reste Ã  changer scale en character

    visualisation(config_barchart)

    </script>
    <div id="svg_wrapper" style="white-space: nowrap;">
        <svg id="d3_barchart", style="display:inline"></svg>
        <svg id="d3_stackedchart", style="display:inline"></svg>
        <svg id="d3_piechart", style="display:inline"></svg>
        <svg id="d3_nodelink", style="display:inline"></svg>
        <svg id="d3_visualisation", style="display:inline"></svg>
    </div>

</body>
</html>